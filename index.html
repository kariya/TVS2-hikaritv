<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>HTML5サンプル</title>
</head>
<body>
	<p>リポジトリは<a href="https://github.com/kariya/TVS2-hikaritv">こちら</a>。</p>

	<p>プラグイン作成の裏話とか書いてみるか、最新のHTML5で（ただしタグ手打ち）。</p>
	<p>そもそも最初はJScriptで書いてたんだよなあ。どこでも動くようにしたかったし。動作が遅かったけど。</p>
	<p>でもクロスドメインXHRができないだかなんだかで挫折して、あっ思い出した、リファラのヘッダ偽装ができないのが判明してやる気が萎えたんだ。</p>
	<p>結局リファラ偽装は必要なかったんだけど、その時は認証通すのに必要かと思ってたんだ。</p>
	<p>クッキーのセッションIDとリファラーの２本立てか、なんてセキュリティー硬いんだとか、的外れに感嘆していたっけ。</p>
	<p>んで、スクレイピングの部分はjavascriptで書いてしまっていたんで、他のエンジンを探しだしたと。</p>
	<p>試したのはRhinoとnode.js。前者は何だったか覚えてないけどうまく動かなかった。後者はwindowsだとjQueryを動かすDOMエミュレーションライブラリがインストール出来なかったはず。</p>
	<p>node.jsとgoogleV8エンジンつながりで、ブラウザのchromeもエクステンションとか言うのを使えば物になるかもと思った。</p>
	<p>調べると、クロスドメインXHRもヘッダ偽装も何でもできた。これで行ってみよう、となる。</p>
	<p>以上。</p>
	<br>
	<p>こんなプラグイン書いといて何だけど、著作権とか大丈夫なんだろうか。</p>
	<p>http喋ってるだけだからいいよね。そもそもChrome extensionだからブラウザで見てるのと違わないはずだし。（この程度の認識）</p>
	<p>あとライセンス、GPLにしようかと思ったけど、本体のTVスケジューラーに感染するかと思ってやめた。結局GPLのいう「結合」の定義がわからんかった。</p>
	<br>
	<p>このgh-pagesって容量どれくらいあるんだろう。埋め草しか書いてないんで気にする必要ないけど。</p>
	<br>
	<p>自分のドメインからアクセスできるようにしてみた。URLにgithub.comがついてるほうが格好良いような気が激しくするが。</p>
	<p>これだと自宅サーバーにapache立ててみたが内容はありませんなページ公開してるみたいでちょっと嫌な感じ。</p>
	<br>
	<p>gh-page、反映が遅い気がする。使い方が違ってるような気もする。</p>
	<p></p>
</body>
</html>
